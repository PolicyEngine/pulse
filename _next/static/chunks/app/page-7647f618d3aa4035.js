(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{245:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var o=a(5155),r=a(2115);function l(e){let{activeTab:t,onTabChange:a}=e;return(0,o.jsx)("div",{className:"flex space-x-1 mb-8",children:[{id:"standup",label:"Standup"},{id:"survey",label:"Survey"},{id:"results",label:"Results"}].map(e=>(0,o.jsx)("button",{onClick:()=>a(e.id),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(t===e.id?"bg-[#2C6496] text-white":"bg-slate-100 text-gray-700 hover:bg-slate-200"),style:{fontFamily:"var(--font-roboto)"},children:e.label},e.id))})}function s(e){let{teamMembers:t}=e,[a,l]=(0,r.useState)(t),[s,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)({}),u=(0,r.useRef)(null);return(0,r.useEffect)(()=>{l(t)},[t]),(0,r.useEffect)(()=>(Object.values(c).some(e=>e.isActive)?u.current=setInterval(()=>{m(e=>{let t={...e};return Object.keys(t).forEach(e=>{if(t[e].isActive){let a=Date.now()-t[e].startTime;t[e].elapsed=a,a>=12e4&&(t[e].isActive=!1,t[e].elapsed=12e4)}}),t})},100):u.current&&(clearInterval(u.current),u.current=null),()=>{u.current&&clearInterval(u.current)}),[c]),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",style:{fontFamily:"var(--font-roboto-serif)"},children:"Today's standup order"}),(0,o.jsx)("button",{onClick:()=>{n(!0),setTimeout(()=>{l(function(e){let t=[...e];for(let e=t.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}(t)),n(!1)},500)},disabled:s,className:"px-6 py-3 bg-[#2C6496] text-white rounded-lg hover:bg-[#1e4668] transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",style:{fontFamily:"var(--font-roboto)"},children:s?"Shuffling...":"Randomise order"})]}),(0,o.jsx)("div",{className:"space-y-3",children:a.map((e,t)=>{let a=c[e],r=null==a?void 0:a.isCompleted,l=(null==a?void 0:a.elapsed)||0,n=Math.min(l/12e4*100,100);return(0,o.jsxs)("div",{className:"relative overflow-hidden rounded-lg transition-all duration-300 ".concat(s?"opacity-50 scale-95":"opacity-100 scale-100"," ").concat(r?"bg-green-50":i===e?"bg-slate-100":"bg-slate-50"),onMouseEnter:()=>d(e),onMouseLeave:()=>d(null),children:[a&&!r&&(0,o.jsx)("div",{className:"absolute inset-0 opacity-30 transition-all duration-100",style:{background:"linear-gradient(to right, ".concat((e=>{let t=Math.min(e/12e4,1),a=Math.floor(128+127*t),o=Math.floor(128*(1-t)),r=Math.floor(128*(1-t));return"rgb(".concat(a,", ").concat(o,", ").concat(r,")")})(l)," ").concat(n,"%, transparent ").concat(n,"%)")}}),(0,o.jsxs)("div",{className:"relative flex items-center p-4",children:[(0,o.jsx)("div",{className:"flex-shrink-0 w-10 h-10 ".concat(r?"bg-green-600":"bg-[#2C6496]"," text-white rounded-full flex items-center justify-center font-bold text-sm"),style:{fontFamily:"var(--font-roboto-mono)"},children:r?"✓":t+1}),(0,o.jsx)("span",{className:"ml-4 text-lg font-medium flex-grow ".concat(r?"text-gray-500 line-through":"text-gray-700"),style:{fontFamily:"var(--font-roboto)"},children:e}),a&&!r&&(0,o.jsx)("span",{className:"ml-4 text-lg font-mono font-bold",style:{fontFamily:"var(--font-roboto-mono)",color:l>=12e4?"#dc2626":"#374151"},children:(e=>{let t=120-Math.floor(e/1e3),a=Math.floor(t/60);return t>0?"".concat(a,":").concat((t%60).toString().padStart(2,"0")):"Time's up!"})(l)}),r&&(0,o.jsx)("span",{className:"ml-4 text-sm font-medium text-green-600",style:{fontFamily:"var(--font-roboto)"},children:"Completed"}),i===e&&!r&&(0,o.jsxs)(o.Fragment,{children:[!a&&(0,o.jsx)("button",{onClick:()=>{m(t=>{let a={};return Object.keys(t).forEach(o=>{t[o].isActive&&o!==e?a[o]={...t[o],isActive:!1}:a[o]=t[o]}),a[e]={startTime:Date.now(),elapsed:0,isActive:!0,isCompleted:!1},a})},className:"ml-4 px-4 py-2 bg-[#2C6496] text-white rounded-md hover:bg-[#1e4668] transition-colors font-medium text-sm",style:{fontFamily:"var(--font-roboto)"},children:"Start"}),a&&(0,o.jsx)("button",{onClick:()=>{m(t=>({...t,[e]:{...t[e],isActive:!1,isCompleted:!0}}))},className:"ml-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-medium text-sm",style:{fontFamily:"var(--font-roboto)"},children:"Done"})]})]})]},e)})})]})}let n="pulse_team_data",i="pulse_survey_data";class d{async getTeamData(){if(!this.isProduction){let e=localStorage.getItem(n);if(e)return JSON.parse(e)}return{team:["Max","Nikhil","Pavel","Anthony","Vahid","Daphne","David","Mar\xeda","Ziming"],meetings:[]}}async saveTeamData(e){this.isProduction||localStorage.setItem(n,JSON.stringify(e))}async getSurveyData(){if(!this.isProduction){let e=localStorage.getItem(i);if(e)return JSON.parse(e);try{let e=await fetch("/data/surveys.json");if(e.ok){let t=await e.json();return localStorage.setItem(i,JSON.stringify(t)),t}}catch(e){}}return{responses:[]}}async saveSurveyResponse(e){let t=await this.getSurveyData();e.timestamp=new Date().toISOString(),t.responses.push(e),this.isProduction||localStorage.setItem(i,JSON.stringify(t))}constructor(){this.isProduction=!0}}let c=new d;function m(){let[e,t]=(0,r.useState)({name:"",weekEnding:new Date().toISOString().split("T")[0],blockedPercentage:5,feelSupported:5,workload:5,learnedNewSkills:5,meetingProductivity:5,soloProductivity:5,weekQuality:5,feedback:""}),[a,l]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1),i=async a=>{a.preventDefault(),l(!0);try{await c.saveSurveyResponse(e),n(!0),setTimeout(()=>{n(!1),t({...e,blockedPercentage:5,feelSupported:5,workload:5,learnedNewSkills:5,meetingProductivity:5,soloProductivity:5,weekQuality:5,feedback:""})},3e3)}catch(e){console.error("Error submitting survey:",e)}finally{l(!1)}},d=e=>{let{value:t,onChange:a,label:r}=e;return(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{fontFamily:"var(--font-roboto)"},children:r}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5,6,7,8,9,10].map(e=>(0,o.jsx)("button",{type:"button",onClick:()=>a(e),className:"w-10 h-10 rounded-lg font-medium transition-colors ".concat(t===e?"bg-[#2C6496] text-white":"bg-slate-100 text-gray-700 hover:bg-slate-200"),style:{fontFamily:"var(--font-roboto-mono)"},children:e},e)),(0,o.jsx)("span",{className:"ml-2 text-sm text-gray-500",style:{fontFamily:"var(--font-roboto)"},children:"(1 = Low, 10 = High)"})]})]})};return s?(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,o.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:(0,o.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,o.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",style:{fontFamily:"var(--font-roboto-serif)"},children:"Thanks for your feedback!"}),(0,o.jsx)("p",{className:"text-gray-600 text-center max-w-md",style:{fontFamily:"var(--font-roboto)"},children:"Your weekly survey has been recorded. We'll review the team's responses during our next meeting."})]})}):(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",style:{fontFamily:"var(--font-roboto-serif)"},children:"Weekly team survey"}),(0,o.jsxs)("form",{onSubmit:i,className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{fontFamily:"var(--font-roboto)"},children:"Your name"}),(0,o.jsx)("input",{type:"text",required:!0,value:e.name,onChange:a=>t({...e,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2C6496] focus:border-transparent",style:{fontFamily:"var(--font-roboto)"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{fontFamily:"var(--font-roboto)"},children:"Week ending"}),(0,o.jsx)("input",{type:"date",required:!0,value:e.weekEnding,onChange:a=>t({...e,weekEnding:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2C6496] focus:border-transparent",style:{fontFamily:"var(--font-roboto)"}})]})]}),(0,o.jsx)(d,{label:"What percentage of your time were you blocked on your main task?",value:e.blockedPercentage,onChange:a=>t({...e,blockedPercentage:a})}),(0,o.jsx)(d,{label:"Do you generally feel supported at work?",value:e.feelSupported,onChange:a=>t({...e,feelSupported:a})}),(0,o.jsx)(d,{label:"How's your workload? (1 = underloaded, 5 = perfect, 10 = overloaded)",value:e.workload,onChange:a=>t({...e,workload:a})}),(0,o.jsx)(d,{label:"Did you learn new skills this week?",value:e.learnedNewSkills,onChange:a=>t({...e,learnedNewSkills:a})}),(0,o.jsx)(d,{label:"How productive was your time in meetings?",value:e.meetingProductivity,onChange:a=>t({...e,meetingProductivity:a})}),(0,o.jsx)(d,{label:"How productive was your time outside of meetings?",value:e.soloProductivity,onChange:a=>t({...e,soloProductivity:a})}),(0,o.jsx)(d,{label:"How good was this week overall?",value:e.weekQuality,onChange:a=>t({...e,weekQuality:a})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",style:{fontFamily:"var(--font-roboto)"},children:"Additional feedback (optional)"}),(0,o.jsx)("textarea",{value:e.feedback,onChange:a=>t({...e,feedback:a.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#2C6496] focus:border-transparent",style:{fontFamily:"var(--font-roboto)"},placeholder:"Optional"})]}),(0,o.jsx)("button",{type:"submit",disabled:a,className:"w-full px-6 py-3 bg-[#2C6496] text-white rounded-lg hover:bg-[#1e4668] transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",style:{fontFamily:"var(--font-roboto)"},children:a?"Submitting...":"Submit survey"})]})]})}var u=a(1615);function y(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),s=(0,r.useRef)(null);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await c.getSurveyData();t(e.responses||[])}catch(e){console.error("Error fetching responses:",e)}finally{l(!1)}};(0,r.useEffect)(()=>{e.length>0&&s.current&&i();let t=()=>{e.length>0&&s.current&&i()};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]);let i=()=>{if(!s.current)return;u.Ltv(s.current).selectAll("*").remove(),u.Ubm(".tooltip").remove();let t=Math.min(s.current.clientWidth-40,800)-60-150,a=170,o=u.zaV(e,e=>({weekQuality:u.i2o(e,e=>e.weekQuality)||0,feelSupported:u.i2o(e,e=>e.feelSupported)||0,soloProductivity:u.i2o(e,e=>e.soloProductivity)||0,meetingProductivity:u.i2o(e,e=>e.meetingProductivity)||0,blockedPercentage:u.i2o(e,e=>e.blockedPercentage)||0,workload:u.i2o(e,e=>e.workload)||0,learnedNewSkills:u.i2o(e,e=>e.learnedNewSkills)||0,count:e.length}),e=>e.weekEnding),r=Array.from(o.keys()).sort(),l=Array.from(o.entries());[{key:"weekQuality",label:"Week quality"},{key:"feelSupported",label:"Feel supported"},{key:"soloProductivity",label:"Solo productivity"},{key:"meetingProductivity",label:"Meeting productivity"},{key:"blockedPercentage",label:"Blocked percentage"},{key:"workload",label:"Workload"},{key:"learnedNewSkills",label:"Learned new skills"}].forEach((e,o)=>{var n;let i=u.Ltv(s.current).append("div").attr("class","mb-8 relative"),d=l[l.length-1][1][e.key],c=l.length>1?l[l.length-2][1][e.key]:d,m=((e,t)=>{let a=e.map(e=>e[1][t]),o=0,r=0;for(let e=Math.max(0,a.length-3);e<a.length;e++)o+=a[e],r++;return r>0?o/r:0})(l,e.key),y=d-c,f=i.append("div").attr("class","flex justify-between items-center mb-4");f.append("h3").attr("class","text-lg font-semibold text-gray-800").style("font-family","var(--font-roboto-serif)").text(e.label);let g=f.append("div").attr("class","flex gap-6 text-sm").style("font-family","var(--font-roboto-mono)");g.append("span").attr("class","text-gray-600").html('Avg: <span class="font-bold text-gray-800">'.concat(m.toFixed(1),"</span>")),g.append("span").attr("class","text-gray-600").html('Last: <span class="font-bold text-gray-800">'.concat(d.toFixed(1),"</span>")),g.append("span").attr("class",y>0?"text-green-600":y<0?"text-red-600":"text-gray-600").text("".concat(y>0?"↑":y<0?"↓":"→"," ").concat(Math.abs(y).toFixed(1)));let x=i.append("svg").attr("width",t+60+150).attr("height",a+30+50).append("g").attr("transform","translate(".concat(60,",").concat(30,")")),h=u.w7C().domain([new Date(r[0]),new Date(r[r.length-1])]).range([0,t]),p=u.m4Y().domain([0,10]).range([a,0]),b=u.n8j().x(e=>h(new Date(e[0]))).y(t=>p(t[1][e.key])).curve(u.nVG);x.append("g").attr("transform","translate(0,".concat(a,")")).call(u.l78(h).tickFormat(e=>u.DCK("%d %b")(e)).ticks(r.length)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),x.append("g").call(u.V4s(p).ticks(5)),x.append("text").attr("transform","rotate(-90)").attr("y",-60).attr("x",0-a/2).attr("dy","1em").style("text-anchor","middle").style("font-size","12px").text("Rating (1-10)"),x.append("g").attr("class","grid").attr("transform","translate(0,".concat(a,")")).call(u.l78(h).tickSize(-a).tickFormat(()=>"")).style("stroke-dasharray","3,3").style("opacity",.3),x.append("g").attr("class","grid").call(u.V4s(p).tickSize(-t).tickFormat(()=>"")).style("stroke-dasharray","3,3").style("opacity",.3);let v=x.append("path").datum(l).attr("fill","none").attr("stroke","#2C6496").attr("stroke-width",2).attr("d",b),k=(null==(n=v.node())?void 0:n.getTotalLength())||0;v.attr("stroke-dasharray",k+" "+k).attr("stroke-dashoffset",k).transition().duration(1500).delay(200*o).ease(u.xA2).attr("stroke-dashoffset",0),x.selectAll(".dot").data(l).enter().append("circle").attr("class","dot").attr("cx",e=>h(new Date(e[0]))).attr("cy",t=>p(t[1][e.key])).attr("r",0).attr("fill","#2C6496").transition().duration(300).delay((e,t)=>1500+200*o+100*t).attr("r",4);let w=u.Ltv("body").append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none");setTimeout(()=>{x.selectAll(".dot").on("mouseover",function(t,a){w.transition().duration(200).style("opacity",.9),w.html("Week: ".concat(new Date(a[0]).toLocaleDateString("en-GB",{day:"numeric",month:"short"}),"<br/>\n                         Average: ").concat(a[1][e.key].toFixed(1),"<br/>\n                         Responses: ").concat(a[1].count)).style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")}).on("mouseout",function(){w.transition().duration(500).style("opacity",0)})},2e3+200*o)})};if(a)return(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,o.jsx)("div",{className:"py-12 text-gray-500",children:"Loading survey results..."})});if(0===e.length)return(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,o.jsx)("div",{className:"py-12 text-gray-500",children:"No survey responses yet."})});let d=[...new Set(e.map(e=>e.weekEnding))].sort().reverse()[0],m=e.filter(e=>e.weekEnding===d&&e.feedback);return(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",style:{fontFamily:"var(--font-roboto-serif)"},children:"Team health metrics over time"}),(0,o.jsx)("div",{ref:s}),m.length>0&&(0,o.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",style:{fontFamily:"var(--font-roboto-serif)"},children:["Recent feedback (week of ",new Date(d).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),")"]}),(0,o.jsx)("div",{className:"space-y-3",children:m.map((e,t)=>(0,o.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,o.jsxs)("span",{className:"font-medium text-[#2C6496]",style:{fontFamily:"var(--font-roboto)"},children:[e.name,":"]}),(0,o.jsx)("span",{className:"ml-2 text-gray-700",style:{fontFamily:"var(--font-roboto)"},children:e.feedback})]},t))})]})]})}function f(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)("standup");return(0,r.useEffect)(()=>{c.getTeamData().then(e=>{t(e.team)})},[]),(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:(0,o.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,o.jsxs)("header",{className:"mb-12",children:[(0,o.jsx)("h1",{className:"text-5xl font-bold text-[#2C6496] mb-4",style:{fontFamily:"var(--font-roboto-serif)"},children:"PolicyEngine pulse"}),(0,o.jsx)("p",{className:"text-xl text-gray-600",style:{fontFamily:"var(--font-roboto)"},children:"Team meeting coordination hub"})]}),(0,o.jsxs)("div",{className:"max-w-4xl",children:[(0,o.jsx)(l,{activeTab:a,onTabChange:n}),"standup"===a&&(0,o.jsx)(s,{teamMembers:e}),"survey"===a&&(0,o.jsx)(m,{}),"results"===a&&(0,o.jsx)(y,{}),(0,o.jsx)("div",{className:"mt-8",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",style:{fontFamily:"var(--font-roboto-mono)"},children:["Meeting started at ",new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})})]})]})})}},2194:(e,t,a)=>{Promise.resolve().then(a.bind(a,245))}},e=>{e.O(0,[996,441,964,358],()=>e(e.s=2194)),_N_E=e.O()}]);